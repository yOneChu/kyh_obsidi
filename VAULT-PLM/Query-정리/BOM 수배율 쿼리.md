---
tags:
---

###  ⚡제품 정보 쿼리
```
SELECT  
    COUNT(V.MD$NUMBER)  
FROM product$vf V  
WHERE V.MD$STATUS = 'RLS'  
AND SUBSTR(V.MD$CDATE, 0,4) = '2025'  
AND SUBSTR(V.MD$NUMBER, 0, 1) NOT IN ('Q', 'V', '0', 'K', '1', 'H', 'T', 'M')  
--AND V.MD$NUMBER = '207547L19'  
ORDER BY V.MD$NUMBER DESC  
;  


  
SELECT  
    TO_CHAR(TO_DATE(V.MD$MDATE, 'YYYYMMDDHH24MISS'), 'YYYY-MM-DD') AS 수정일,  
    V.*  
FROM product$vf V  
WHERE V.MD$STATUS = 'RLS'  
AND SUBSTR(V.MD$CDATE, 0,4) = '2025'  
AND SUBSTR(V.MD$NUMBER, 0, 1) NOT IN ('Q', 'V', '0', 'K', '1', 'H', 'T', 'M')  
AND V.MD$NUMBER = 'N26553L01'  
ORDER BY V.VF$VERSION DESC  
;
```


### ⚡제품의 수배율 쿼리
```
SELECT  
      PE.SEQ  
     , (SELECT MD$NUMBER FROM PRODUCT$VF WHERE VF$OUID = PE.PRODUCTOUID) AS PARENTNO  
     , (SELECT PRODUCT.VF$VERSION FROM PRODUCT$VF PRODUCT WHERE PRODUCT.VF$OUID = PE.PRODUCTOUID) AS PARENTNO_VER  
     , (SELECT TO_CHAR(TO_DATE(PRODUCT.MD$MDATE, 'YYYYMMDDHH24MISS'), 'YYYY-MM-DD') AS PROD_MODDATE FROM PRODUCT$VF PRODUCT WHERE PRODUCT.VF$OUID = PE.PRODUCTOUID) AS PROD_MODDATE  
     , (SELECT TO_CHAR(TO_DATE(PRODUCT.APP_DATE, 'YYYYMMDDHH24MISS'), 'YYYY-MM-DD') AS PROD_MODDATE FROM PRODUCT$VF PRODUCT WHERE PRODUCT.VF$OUID = PE.PRODUCTOUID) AS PROD_APP_DATE  
     , NP.VF$VERSION AS PART_VERSION  
     , NP.MD$NUMBER AS PARTNO  
     , (SELECT MD$NUMBER FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.BLOCKNO, 12))))) BLOCKNO  
     , (SELECT COD(BLOCK_OPT) FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.BLOCKNO, 12))))) BLOCK_OPT  
     , VP.UCHECK AS UCHECK  -- 수정여부  
     , cod(NP.NATION) NATION  
     , NP.MD$DESC PARTNAME  
     , PE.QTY  
     , VP.WORK_QTY  
     , PE.CMT AS CMT  
     , NVL(NP.G_L_CODE, '') AS GLCODE  
     , (SELECT MD$DESC FROM FUSER$SF WHERE MD$NUMBER = NP.MD$USER) AS USERNAME  
     , (   SELECT  
        SUM(VVP.UCHECK)  
       FROM  
        PARTOFEBOM PPE  
       INNER JOIN NORMALPART$VF NNP ON PPE.PARTOUID = NNP.VF$OUID  
       LEFT OUTER JOIN VARIABLEPART_NEW VVP ON VVP.PRODUCTOUID = PPE.PRODUCTOUID AND VVP.ASSOOUID = PPE.ASSOOUID  
       WHERE  
       PPE.PRODUCTOUID = PE.PRODUCTOUID  
       GROUP BY PPE.PRODUCTOUID  
    ) AS MODIFY_CNT  
     , (   SELECT  
        SUM(PPE.QTY)  
       FROM  
        PARTOFEBOM PPE  
       INNER JOIN NORMALPART$VF NNP ON PPE.PARTOUID = NNP.VF$OUID  
       LEFT OUTER JOIN VARIABLEPART_NEW VVP ON VVP.PRODUCTOUID = PPE.PRODUCTOUID AND VVP.ASSOOUID = PPE.ASSOOUID  
       WHERE  
       PPE.PRODUCTOUID = PE.PRODUCTOUID  
       AND (SELECT COD(BLOCK_OPT) FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NNP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NNP.BLOCKNO, 12))))) IN ('M','C')  
       GROUP BY PPE.PRODUCTOUID  
    ) AS MECH_CNT  
     , (   SELECT  
        SUM(PPE.QTY)  
       FROM  
        PARTOFEBOM PPE  
       INNER JOIN NORMALPART$VF NNP ON PPE.PARTOUID = NNP.VF$OUID  
       LEFT OUTER JOIN VARIABLEPART_NEW VVP ON VVP.PRODUCTOUID = PPE.PRODUCTOUID AND VVP.ASSOOUID = PPE.ASSOOUID  
       WHERE  
       PPE.PRODUCTOUID = PE.PRODUCTOUID  
       AND (SELECT COD(BLOCK_OPT) FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NNP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NNP.BLOCKNO, 12))))) IN ('1','2','3')  
       GROUP BY PPE.PRODUCTOUID  
    ) AS ELE_CNT  
FROM  
 PARTOFEBOM PE  
INNER JOIN NORMALPART$VF NP ON PE.PARTOUID = NP.VF$OUID  
LEFT OUTER JOIN VARIABLEPART_NEW VP ON VP.PRODUCTOUID = PE.PRODUCTOUID AND VP.ASSOOUID = PE.ASSOOUID  
WHERE  
 -- PE.PRODUCTOUID = 제품의OID  
PE.PRODUCTOUID = ?  
ORDER BY TO_NUMBER(PE.SEQ)
```