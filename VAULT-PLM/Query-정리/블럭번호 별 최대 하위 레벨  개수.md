---
tags:
  - PLM
---
---

```
SELECT  
          MAX(LEVEL) AS P_LEVEL  
        FROM  
          PARTOFPART$AC BOM  
         INNER JOIN NORMALPART$VF NP ON     BOM.AS$END2 = NP.VF$OUID  
        LEFT OUTER JOIN BLOCKNO$SF B1 ON B1.SF$OUID = GETID(NP.BLOCKNO)  
        LEFT OUTER JOIN BLOCKNO$SF B2 ON B2.SF$OUID = GETID(NP.UPPERBLOCKNO)  
        LEFT OUTER JOIN AUTOCAD_FILE$VF CAD ON CAD.VF$OUID = GETID(NP.DRAWING_NO)  
        LEFT OUTER JOIN FUSER$SF U ON U.MD$NUMBER = BOM.CUSER  
        LEFT OUTER JOIN FUSER$SF U2 ON U2.MD$NUMBER = NP.MD$USER  
        LEFT OUTER JOIN PARTNAME$SF NAME ON NAME.SF$OUID = GETID(NP.PARTNAME)  
        --START WITH AS$END1 = '2848672602' -- 부품OID(VF$OUID)  
        START WITH AS$END1 IN (  
            with ouid as  
            ( select A.vf$ouid from NORMALPART$vf A, NORMALPART$id B  
              where A.vf$identity = B.id$ouid and A.vf$ouid = B.id$wip  
              --and ( md$number in ( '18900360G0700') )  
               AND SUBSTR(A.MD$CDATE, 0, 6) IN('202407', '202408', '202409', '202410', '202411', '202412','202501', '202502', '202503', '202504', '202505')  
            )  
SELECT  
       A.VF$OUID AS PARTOID  
FROM NORMALPART$VF A JOIN AUTOCAD_FILE$VF CAD ON CAD.VF$OUID = GETID(A.DRAWING_NO)  
WHERE A.VF$OUID IN (SELECT * FROM OUID)  
AND A.MD$STATUS = 'RLS' --릴리즈  
AND A.PART_STATUS = '2466425004' --활성  
AND A.BLOCKNO_NUMBER = 'A101A' --블럭번호  
            )  
        CONNECT BY  
          PRIOR AS$END2 = AS$END1  
          ORDER SIBLINGS BY CAST(BOM.MD$SEQUENCE AS NUMBER DEFAULT 0 ON CONVERSION ERROR)  
;
```