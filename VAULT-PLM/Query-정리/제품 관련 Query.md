
### üí° Ï†úÌíàÏùò 1Î†àÎ≤®
```
with ouid as
 ( select vf$ouid AS VFOID from product$vf, product$id
  	where vf$identity = id$ouid and vf$ouid = id$wip
  	and (
     	  md$number in ( '204201L11' )
     	)
 )
SELECT
			 PE.ASSOOUID ASSOOUID
			 , PE.PRODUCTOUID END1 -- Ï†úÌíàOID
			 , PE.PARTOUID END2 --WORK_QTY ÌÖåÏù¥Î∏î Ïó∞Í≥Ñ Î∂ÄÌíàOID
			 , PE.SEQ
			 , LOWER(CONCAT('PRODUCT$VF@', DECTOHEX(PE.PRODUCTOUID))) END1HEX
			 , LOWER(CONCAT('NORMALPART$VF@', DECTOHEX(PE.PARTOUID))) END2HEX
			 , (SELECT MD$NUMBER FROM PRODUCT$VF WHERE VF$OUID = PE.PRODUCTOUID) PARENTNO
			 , (SELECT COUNT(*) FROM PARTANDCAD$AS WHERE AS$END1 = PE.PARTOUID) CADCNT
			 , NP.MD$NUMBER PARTNO
			 , cod(NP.NATION) NATION
			 , NP.compen_part COMPEN_PART
			 , NP.MD$DESC PARTNAME
			 , NP.VF$VERSION VERSION
			 , NVL(NP.G_L_CODE, '') GLCODE
			 , NVL(NP.SPEC, '') SPEC
			 , NVL(NP.PART_SIZE, '') PART_SIZE
			 , (SELECT MD$NUMBER FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.BLOCKNO, 12))))) BLOCKNO
			 , (SELECT NVL(LOSSRATE, '') FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.BLOCKNO, 12))))) LOSSRATE
			 , (SELECT COD(BLOCK_OPT) FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.BLOCKNO, 12))))) BLOCK_OPT
			 , (SELECT MD$NUMBER FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.UPPERBLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.UPPERBLOCKNO, 12))))) UPPERBLOCKNO
			 , NVL(COD(NP.UOM), '') UOM
			 , PE.QTY
			 , VP.WORK_QTY
			 , PE.CMT
			 , VP.WORK_CMT
			 , PE.COLOR
			 , VP.WORK_COLOR
			 , NVL(COD(NP.ORIGIN_DIV), '') DIV
			 , NVL(PE.MBOM, '') MBOM
			 , NVL(COD(NP.PART_MBOM), '') PART_MBOM
			 , (SELECT MD$DESC FROM FUSER$SF WHERE MD$NUMBER = NP.MD$USER) USERNAME
			 , NP.MD$USER USERID
			 , NP.OLD_CODE
			 , NP.OLD_CODE2
			 , NP.OLD_CODE3
			 , COD(NP.SPT) SPT
			 , COD(NP.PARTMPCHECK) PARTMPCHECK
			 , (SELECT MD$DESC FROM FUSER$SF WHERE MD$NUMBER = PE.CUSER) CUSERNAME
			 , PE.CUSER CUSERID
			 , 1 LEV
			 , 'F' ISLEAF
			 , VP.UCHECK -- ÏàòÏ†ïÏó¨Î∂Ä
			 , VP.MCHECK
			 , NVL(COD(NP.PART_DIVISION), '') PART_DIVISION
			 , PE.CDATE
			 , VP.MDATE
			-- , DATEFORMAT(VP.MDATE, 'YYYYMMDDHH24MISS', 'YYYY-MM-DD HH24:MI:SS') AS Îì±Î°ùÏùº
			 , VP.user5
			 , (SELECT COUNT(1) FROM PARTOFPART$AC WHERE AS$END1=NP.VF$OUID AND ROWNUM=1) HASCHILD -- ÌïòÏúÑBOM Ï°¥Ïû¨Ïó¨Î∂Ä
			FROM
			 PARTOFEBOM PE
			INNER JOIN NORMALPART$VF NP ON PE.PARTOUID = NP.VF$OUID
			LEFT OUTER JOIN VARIABLEPART_NEW VP ON VP.PRODUCTOUID = PE.PRODUCTOUID AND VP.ASSOOUID = PE.ASSOOUID
			WHERE
			 -- PE.PRODUCTOUID = Ï†úÌíàÏùòOID
            PE.PRODUCTOUID = (SELECT VFOID FROM ouid)
			ORDER BY TO_NUMBER(PE.SEQ)
;
```


### üí° Ï†úÌíàÏùò 1Î†àÎ≤®Ïùò ÌïòÏúÑ Ï†ÑÏ≤¥ (Î∂ÄÌíàOID)
```
SELECT  
          (ROWNUM-1) idx,  
          (LEVEL+1)  LEV,  
          A.SF$OUID ASSOOUID,  
          A.AS$END1 END1,  
          A.AS$END2 END2,  
          A.END1_HEXOUID END1HEX,  
          A.END2_HEXOUID END2HEX,  
          A.MD$SEQUENCE SEQ,  
          (SELECT MD$NUMBER FROM NORMALPART$VF WHERE VF$OUID = A.AS$END1) PARENTNO,  
          (SELECT NVL(COD(ORIGIN_DIV), '') FROM NORMALPART$VF WHERE VF$OUID = A.AS$END1) PARENTDIV,  
          (SELECT COUNT(*) FROM PARTANDCAD$AS WHERE AS$END1 = A.AS$END2) CADCNT,  
          NP.MD$NUMBER PARTNO,  
          NP.MD$DESC PARTNAME,  
          NP.VF$VERSION VERSION,  
          NVL(NP.G_L_CODE, '') GLCODE,  
          NVL(COD(NP.NATION), '') NATION,  
          NVL(NP.COMPEN_PART, '') COMPEN_PART,  
          NVL(A.SERVICEFLAG, '') SERVICEFLAG,  
          NVL(NP.SPEC, '') SPEC,  
          NVL(NP.PART_SIZE, '') PART_SIZE,  
          (SELECT MD$NUMBER FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.BLOCKNO, 12))))) BLOCKNO,  
          (SELECT NVL(LOSSRATE, '') FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.BLOCKNO, 12))))) LOSSRATE,  
          (SELECT COD(BLOCK_OPT) FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.BLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.BLOCKNO, 12))))) BLOCK_OPT,  
          (SELECT MD$NUMBER FROM BLOCKNO$SF WHERE SF$OUID =  DECODE(NP.UPPERBLOCKNO, NULL, NULL, HEXTODEC(UPPER(SUBSTR(NP.UPPERBLOCKNO, 12))))) UPPERBLOCKNO,  
          NVL(COD(NP.UOM), '') UOM,  
          A.QTY QTY,  
          VP.WORK_QTY,  
          A.CMT,  
          VP.WORK_CMT,  
          A.COLOR,  
          VP.WORK_COLOR,  
          NVL(CODN(NP.ORIGIN_DIV), '') DIV,  
          NVL(A.MBOM, '') MBOM,  
          NVL(COD(NP.PART_MBOM), '') PART_MBOM,  
             (SELECT MD$DESC FROM FUSER$SF WHERE MD$NUMBER = NP.MD$USER) USERNAME,  
          NP.MD$USER USERID,  
          NP.OLD_CODE,NP.OLD_CODE2, NP.OLD_CODE3, COD(NP.SPT) SPT, COD(NP.PARTMPCHECK) PARTMPCHECK,  
             (SELECT MD$DESC FROM FUSER$SF WHERE MD$NUMBER = B.CUSER) CUSERNAME, B.CUSER CUSERID,  
             NVL(A.PART_SPT, '') PART_SPT,  
          DECODE(CONNECT_BY_ISLEAF, 0,'F', 1, 'T') ISLEAF,  
             VP.UCHECK, VP.MCHECK, NVL(COD(NP.PART_DIVISION), '') PART_DIVISION, A.MD$CDATE CDATE, VP.MDATE,  
             VP.user5  
          FROM PARTOFPART$AC A  
          INNER JOIN NORMALPART$VF NP ON AS$END2 = NP.VF$OUID  
          LEFT OUTER JOIN VARIABLEPART_NEW VP ON SF$OUID = VP.ASSOOUID AND VP.PRODUCTOUID = '2848884599'  
                LEFT OUTER JOIN PARTOFEBOM B ON B.PARTOUID = 'PARTOID'  
            AND B.PRODUCTOUID = '2848884599'  
            START WITH AS$END1 = 'PARTOID'  
          CONNECT BY PRIOR AS$END2 = AS$END1  
          ORDER SIBLINGS BY CAST(MD$SEQUENCE AS NUMBER DEFAULT 0 ON CONVERSION ERROR)
```